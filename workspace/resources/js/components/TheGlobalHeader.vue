<template>
  <header class="header">
    <nav class="header-container">
      <ol class="breadcrumbs-list">
        <li v-for="(path,index) in route" :key="index" class="breadcrumbs-link">
          <router-link :to="'/'+route.slice(0,index+1).join('/')">{{ bread_table[path] }}</router-link>
        </li>
      </ol>
      <button class="nav-menu" @click="naviChange">
        <v-img src="/img/menu.png" />
      </button>
      <div class="nav-close" v-show="navi_active" @click="naviChange"></div>
      <div class="nav-content" :class="{active:navi_active}">
        <ul class="p-sidebar-content">
          <li class="p-sidebar-item p-sidebar-item-header">
            <!-- ここプロフィール画像 -->
            <v-img src="/img/nav-icon-header.svg" alt="プロフィール画像" class="nav-header-icon" />
          </li>
          <router-link
            :to="{name:'controls-stamp'}"
            class="p-sidebar-item p-tab-link"
            tag="li"
            active-class="active"
            @click.native="naviChange()"
          >
            <!-- svg直書きは瀬野確認済み　-->
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <path
                  d="M352.705,62.572h-193.41C71.321,62.572,0,133.893,0,221.855c0,87.986,71.321,159.307,159.295,159.307h152.17
		c22.76,0,29.872,10.569,29.872,19.22c0,12.791-6.649,24.796-22.748,36.268c-9.969,7.101-2.128,12.779,5.69,12.779
		c101.678,0,187.72-110.942,187.72-227.574C512,133.893,440.691,62.572,352.705,62.572z M135.054,252.109
		c-16.722,0-30.254-13.543-30.254-30.254s13.531-30.242,30.254-30.242c16.7,0,30.232,13.531,30.232,30.242
		S151.755,252.109,135.054,252.109z M256,252.109c-16.699,0-30.254-13.543-30.254-30.254s13.555-30.242,30.254-30.242
		c16.7,0,30.254,13.531,30.254,30.242S272.7,252.109,256,252.109z M376.946,252.109c-16.699,0-30.23-13.543-30.23-30.254
		s13.531-30.242,30.23-30.242c16.723,0,30.254,13.531,30.254,30.242S393.668,252.109,376.946,252.109z"
                />
              </g>
            </svg>
            チャット
          </router-link>
          <router-link
            :to="{name:'controls-invitation'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <path
                  d="M98.484,299.703V150.469H42.297C18.938,150.469,0,169.406,0,192.766v64.625
		c0,23.359,18.938,42.313,42.297,42.313H98.484z"
                />
                <path
                  d="M317.359,82.359l-99.297,53.109c-18.422,9.844-38.984,15-59.859,15h-33.844v149.234h33.844
		c20.875,0,41.438,5.141,59.859,15l99.297,53.109v12.969h25.859V69.391h-25.859V82.359z M317.641,338.953l-87.516-46.813
		c-22.047-11.797-46.922-18.031-71.922-18.031h-8.266v-98.063h8.266c25,0,49.875-6.234,71.922-18.031l87.516-46.797V338.953z"
                />
                <rect x="352.172" y="195.234" width="20.891" height="59.703" />
                <path
                  d="M13.734,407.094v16.578c0,10.469,8.484,18.938,18.953,18.938h31.594c10.453,0,18.938-8.469,18.938-18.938
		v-10.391l32.422-89.563H39.984L13.734,407.094z"
                />
                <rect x="423.094" y="217.172" width="88.906" height="15.984" />

                <rect
                  x="440.238"
                  y="106.255"
                  transform="matrix(0.509 0.8608 -0.8608 0.509 346.5685 -313.6643)"
                  width="15.993"
                  height="81.413"
                />
                <polygon
                  points="409.125,285.625 479.203,327.063 487.344,313.313 417.266,271.859 	"
                />
              </g>
            </svg>
            会のご案内
          </router-link>
          <router-link
            :to="{name:'controls-member'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <rect x="106.667" y="106.667" width="298.666" height="106.666" />
                <path d="M0,0v512h512V0H0z M458.667,458.667H53.333V53.333h405.334V458.667z" />
                <rect x="106.667" y="277.333" width="298.666" height="32" />
                <rect x="106.667" y="362.667" width="298.666" height="32" />
              </g>
            </svg>
            みんなの掲示板
          </router-link>
          <router-link
            :to="{name:'controls-company'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <path
                  d="M512,412.421l-6.265-87.121c2.166-25.848-23.736-39.641-37.367-44.438c-0.833-0.296-1.728-0.681-2.668-1.146
		l-21.856,50.891l-6.158-45.897l3.804-2.855l-1.038-12.477l10.167-3.383c-0.036-0.242-0.089-0.484-0.089-0.708
		c0-3.266,0-7.348,0-12.933c4.207-4.672,7.392-14.142,9.272-24.873c2.65-0.958,4.368-2.408,6.622-13.676
		c1.594-7.939-0.894-12.852-1.503-12.843c1.056-7.223,2.506-21.499-1.253-28.668c0,0,2.578-4.645,2.578-10.847
		c-10.848,1.548-45.476-20.666-55.814-2.588c-14.992-1.548-23.942,19.602-17.14,42.103c0,0-8.414-0.404-5.048,11.366
		c3.15,11.045,5.674,13.569,10.104,15.152c1.889,10.732,5.075,20.201,9.272,24.873c0,4.922,0,8.673,0,11.734l14.034,4.672
		l-1.074,13.095l3.804,2.855l-6.354,47.347l-27.478-51.509c-0.259,0.098-0.519,0.214-0.77,0.314
		c-7.088,2.487-21.982,7.428-34.118,15.233l-1.092,7.715l-0.072-0.877h0.009c0.206-2.471,0.107-4.834-0.206-7.116
		c-3.437-25.052-36.033-39.051-51.266-44.528l-30.431,60.852l-7.527-56.064l4.636-3.474l-1.316-15.976l12.548-4.18
		c0-3.794,0-8.529,0-14.991c4.905-5.46,8.646-16.558,10.866-29.133c5.173-1.853,8.145-4.806,11.832-17.757
		c3.938-13.783-5.916-13.319-5.916-13.319c7.966-26.358-2.515-51.141-20.075-49.315c-12.119-21.194-52.682,4.842-65.4,3.025
		c0,7.267,3.025,12.709,3.025,12.709c-4.412,8.395-2.712,25.124-1.468,33.581c-0.725-0.008-9.622,0.081-5.844,13.319
		c3.696,12.951,6.649,15.904,11.832,17.757c2.22,12.575,5.943,23.674,10.865,29.133c0,6.462,0,11.197,0,14.991l14.804,4.941
		l-1.253,15.215l4.637,3.474l-8.01,59.733l-32.266-64.522c-16.254,5.835-52.243,21.364-51.554,49.674l-0.698-4.868
		c-12.128-7.805-27.012-12.746-34.11-15.233c-0.242-0.099-0.51-0.216-0.76-0.314L93.97,332.057l-6.355-47.347l3.804-2.855
		l-1.074-13.095l14.033-4.672c0-3.061,0-6.812,0-11.734c4.198-4.672,7.384-14.142,9.272-24.873
		c4.422-1.584,6.945-4.108,10.115-15.152c3.347-11.77-5.058-11.366-5.058-11.366c6.793-22.501-2.157-43.651-17.139-42.103
		c-10.338-18.079-44.967,4.136-55.814,2.588c0,6.202,2.578,10.847,2.578,10.847c-3.768,7.17-2.31,21.445-1.253,28.668
		c-0.609-0.009-3.097,4.904-1.504,12.843c2.256,11.268,3.974,12.718,6.614,13.676c1.888,10.732,5.075,20.201,9.282,24.873
		c0,5.585,0,9.666,0,12.933c0,0.224-0.054,0.466-0.099,0.708l10.177,3.383l-1.038,12.477l3.813,2.855l-6.166,45.897L46.3,279.716
		c-0.939,0.464-1.844,0.85-2.667,1.146C30.002,285.659,4.1,299.451,6.265,325.3L0,412.421H512z"
                />
              </g>
            </svg>
            会員一覧
          </router-link>
          <router-link
            :to="{name:'controls-'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <path
                  d="M255.992,0.008C114.626,0.008,0,114.626,0,256s114.626,255.992,255.992,255.992
		C397.391,511.992,512,397.375,512,256S397.391,0.008,255.992,0.008z M300.942,373.528c-10.355,11.492-16.29,18.322-27.467,29.007
		c-16.918,16.177-36.128,20.484-51.063,4.516c-21.467-22.959,1.048-92.804,1.597-95.449c4.032-18.564,12.08-55.667,12.08-55.667
		s-17.387,10.644-27.709,14.419c-7.613,2.782-16.225-0.871-18.354-8.234c-1.984-6.822-0.404-11.161,3.774-15.822
		c10.354-11.484,16.289-18.314,27.467-28.999c16.934-16.185,36.128-20.483,51.063-4.524c21.467,22.959,5.628,60.732,0.064,87.497
		c-0.548,2.653-13.742,63.627-13.742,63.627s17.387-10.645,27.709-14.427c7.628-2.774,16.241,0.887,18.37,8.242
		C306.716,364.537,305.12,368.875,300.942,373.528z M273.169,176.123c-23.886,2.096-44.934-15.564-47.031-39.467
		c-2.08-23.878,15.58-44.934,39.467-47.014c23.87-2.097,44.934,15.58,47.015,39.458
		C314.716,152.979,297.039,174.043,273.169,176.123z"
                />
              </g>
            </svg>
            利用案内
          </router-link>
          <router-link
            :to="{name:'controls-'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              <g>
                <path
                  d="M438.837,0h-29.699H73.162c-21.47,0-38.877,17.407-38.877,38.87v434.253c0,21.471,17.407,38.877,38.877,38.877
		h297.106c21.471,0,38.87-17.406,38.87-38.877V137.146h41.364c15.028,0,27.214-12.179,27.214-27.207V38.87
		C477.716,17.407,460.309,0,438.837,0z M172.116,198.58c-1.557-10.557-3.7-31.428,1.836-41.899c0,0-3.786-6.822-3.786-15.872
		c15.878,2.257,66.506-30.235,81.627-3.771c21.899-2.278,34.999,28.635,25.07,61.542c0,0,12.278-0.572,7.365,16.628
		c-4.6,16.164-8.293,19.857-14.757,22.156c-2.764,15.7-7.428,29.549-13.564,36.371c0,8.178,0,14.149,0,18.921
		c0,0.486,0.072,1,0.228,1.521l-21.492,10.328v15.192h-20.235v-15.192l-21.492-10.343c0.135-0.522,0.228-1.021,0.228-1.507
		c0-4.772,0-10.743,0-18.921c-6.135-6.822-10.778-20.671-13.564-36.371c-6.463-2.3-10.156-5.992-14.756-22.156
		C160.081,198.694,171.202,198.58,172.116,198.58z M224.522,398.903c-72.549,0-122.418-9.414-123.197-18.485
		c-3.149-37.799,45.813-57.97,65.748-64.998c1.95-0.7,4.221-1.764,6.578-3.078l38.056,52.62l2.7-34.477h20.235l2.714,34.463
		l38.041-52.606c2.293,1.242,4.514,2.314,6.578,3.078c19.8,7.407,68.899,27.17,65.749,64.998
		C346.969,389.489,297.077,398.903,224.522,398.903z"
                />
                <path
                  d="M450.502,155.424h-22.157v137.153h22.157c15.028,0,27.214-12.185,27.214-27.213v-82.719
		C477.716,167.61,465.53,155.424,450.502,155.424z"
                />
              </g>
            </svg>
            プロフィール
          </router-link>
          <router-link
            :to="{name:'controls-logout'}"
            class="p-sidebar-item p-tab-link"
            active-class="active"
            tag="li"
            @click.native="naviChange()"
          >
            <svg
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              class="nav-image"
            >
              />
              <g>
                <path
                  d="M355.022,115.897c22.422,0,40.603-18.19,40.603-40.616c0-22.427-18.181-40.608-40.603-40.608
		c-22.434,0-40.616,18.182-40.616,40.608C314.406,97.707,332.588,115.897,355.022,115.897z"
                />
                <path
                  d="M509.402,232.445l-26.925-40.501c-6.543-9.57-15.22-17.486-25.33-23.155l-52.81-29.574
		c-9.676-4.524-16.996-7.402-26.189-6.159l-25.268,3.436c-9.422,1.275-18.01,6.077-24.037,13.429l-48.096,51.183l-44.055,16.244
		c-8.346,3.075-12.825,12.137-10.186,20.627l0.204,0.654c2.593,8.358,11.196,13.29,19.715,11.327l35.901-8.284
		c8.952-2.07,17.458-5.758,25.072-10.894l24.97-16.783l8.816,67.033c0.647,4.916-0.343,9.913-2.822,14.214l-74.758,129.848
		c-5.333,9.242-2.176,21.068,7.05,26.45l0.642,0.376c8.735,5.087,19.908,2.633,25.69-5.643l83.558-119.534l25.322,50.537
		c1.873,3.738,4.351,7.132,7.336,10.044l56.164,54.92c7.091,6.928,18.305,7.23,25.747,0.712l0.9-0.786
		c3.819-3.345,6.134-8.073,6.436-13.135c0.302-5.055-1.431-10.036-4.826-13.806l-47.421-52.818L424.44,269.16l-0.09,0.082
		l-7.394-72.947l26.115,11.753l41.752,43.945c5.251,5.537,13.757,6.429,20.038,2.094l0.426-0.295
		C512.256,248.999,514.096,239.495,509.402,232.445z"
                />
                <polygon
                  points="129.123,101.06 43.287,42.435 262.74,42.435 262.74,8.934 0,8.934 0,444.44 43.287,444.44 
		129.123,503.066 129.123,486.315 129.123,444.44 233.8,444.44 233.8,410.94 129.123,410.94 	"
                />
              </g>
            </svg>
            ログアウト
          </router-link>
        </ul>
      </div>
    </nav>
  </header>
</template>
<script>
import VImg from "./VImg";
export default {
  data: function() {
    return {
      bread_table: {
        controls: "管理",
        invitation: "会のご案内",
        member: "会員",
        company: "会社",
        stamp: "スタンプ",
        chats: "チャット",
        create: "作成"
      },
      navi_active: false
    };
  },
  methods: {
    naviChange: function() {
      this.navi_active = !this.navi_active;
    }
  },
  computed: {
    route: function() {
      const list = this.bread_table;
      return this.$route.path.split("/").filter(function(value) {
        return list[value] != undefined;
      });
    }
  },
  components:{
      VImg
  }
};
</script>
<style lang="scss" scoped>
.header {
  display: flex;
  width: 100%;
  background-color: $sub-color;
  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.4);
  align-items: center;
}
.header-container {
  display: flex;
  width: 100%;
  padding: 0 60px;
  align-items: center;
}
.breadcrumbs-list {
  display: flex;
  list-style: none;
  li {
    display: inline-flex;
    color: $base-sub-color;
    align-items: center;
    a {
      margin-right: 1rem;
      text-decoration: none;
      color: $base-color;
      text-decoration: none;
      font-weight: bold;
    }
    &:after {
      display: block;
      margin-right: 1rem;
      content: ">";
    }
    &:last-child:after {
      content: "";
    }
  }
}
.nav-menu {
  position: relative;
  margin-left: auto;
  display: inline-block;
  width: 24px;
  height: 24px;
  vertical-align: middle;
}

.nav-close {
  position: fixed;
  z-index: 99;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  opacity: 0;
  transition: 0.3s ease-in-out;
  opacity: 0.5;
}

.nav-content {
  position: fixed;
  top: 0;
  right: 0;
  z-index: 9999;
  width: 330px;
  height: 100%;
  background: #fff; /*背景色*/
  transition: 0.3s ease-in-out;
  -webkit-transform: translateX(105%);
  transform: translateX(105%);
  &.active {
    -webkit-transform: translateX(0%);
    transform: translateX(0%);
  }
}

.p-sidebar-item-header {
  background-color: #ff9900;
}
.nav-header-icon {
  background: #ffffff;
  border-radius: 50%;
  margin-left: 10px;
}
.p-sidebar-item {
  display: flex;
  padding: 16px 0;
  box-sizing: border-box;
  font-size: 16px;
  align-items: center;
}
.p-tab-link {
  color: $black;
  cursor: pointer;
  g {
    fill: rgb(120, 120, 120);
  }
  &.active {
    color: $accent-color;
    g {
      fill: rgb(0, 96, 80);
    }
  }
}
.nav-image {
  opacity: 1;
  width: 24px;
  height: 24px;
  margin-left: 16px;
  margin-right: 32px;
}
</style>
